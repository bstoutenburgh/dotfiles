---
# NO, put this in bash files
# - name: asdfkasdlf;sajdfasdkl;jf
#   copy:
#   content: |
#     # Managed by Ansible
#     [[ ":$PATH:" != *"${HOME}/.local/bin"* ]] && PATH="${HOME}/.local/bin:${PATH}"
#   dest: /etc/profile.d/asdfqwerg
#   owner: root
#   group: root
#   mode: '0644'

- name: install common terminal apps
  become: true
  ansible.builtin.apt:
    name: "{{ common_terminal_packages | union(additional_terminal_packages | default([])) | unique }}"
    state: latest
  tags:
    - apt

- name: install bat
  ansible.builtin.include_role:
    name: gantsign.bat

- name: install yq
  ansible.builtin.include_role:
    name: andrewrothstein.yq

- name: configure terminal
  ansible.builtin.template:
    src: "home/{{ item }}.j2"
    dest: "{{ ansible_user_dir }}/.{{ item }}"
    owner: "{{ ansible_user_id }}"
    group: "{{ ansible_user_id }}"
    mode: 0644
  with_items:
    - bashrc
  # - inputrc
  # - profile
  tags:
    - bashrc

- name: ensure a .localrc
  ansible.builtin.copy:
    content: ""
    dest: "{{ ansible_user_dir }}/.localrc"
    owner: "{{ ansible_user_id }}"
    group: "{{ ansible_user_id }}"
    mode: 0664
    force: false
  tags:
    - localrc
